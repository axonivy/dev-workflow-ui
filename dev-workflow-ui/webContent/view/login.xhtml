<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
  <f:attribute name="primefaces.THEME" value="freya-ivy-#{ivyFreyaTheme.mode}" />
  <f:facet name="first">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta name="mobile-web-app-capable" content="yes" />
  </f:facet>
  <title>Login - #{ivyAdvisor.applicationName} #{ivyAdvisor.versionShort}</title>
  <link rel="shortcut icon" href="#{resource['ivy-branding:favicon']}" />
  <h:outputScript name="resources/js/vscodeConnection.js" />
</h:head>

<f:metadata>
  <f:viewParam name="origin" value="#{loginBean.origin}"/>
  <f:viewParam name="originalUrl" value="#{loginBean.originalUrl}"/>
</f:metadata>
<h:body styleClass="login-body">
  <h:form id="loginForm">
    <div class="login-wrapper">
      <div class="login-panel">
        <div class="logo">
          <p:graphicImage name="logo_small" library="ivy-branding" alt="Logo" />
        </div>

        <p:focus for="userName" />
        <p:inputText id="userName" autocomplete="off" value="#{loginBean.username}" required="true" placeholder="#{ivy.cm.co('/login/username')}" />
        <p:password id="password" autocomplete="off" value="#{loginBean.password}" required="true" placeholder="#{ivy.cm.co('/login/password')}" />

        <p:commandButton update="@form" id="login" actionListener="#{loginBean.customLogin}" value="#{ivy.cm.co('/login/signIn')}" icon="si si-login-3" ajax="false"/>
        <p:messages globalOnly="true" id="loginMessage" />

        <h:panelGroup rendered="#{loginBean.OAuthProvider != null}" styleClass="oauth-providers">
          <h:outputLink value="#{loginBean.OAuthProvider.link}">
            <h:outputText value="#{loginBean.OAuthProvider.image}" escape="false" />
            <span style="position: relative; bottom: 5px;">
              #{ivy.cm.co('/login/logInWith')} <h:outputText value="#{loginBean.OAuthProvider.displayName}" />
            </span>
          </h:outputLink>
        </h:panelGroup>

      </div>
      <div class="login-footer">
        <h4>Developer Workflow UI</h4>
        <h6>Copyright â’¸ Axon Ivy</h6>
      </div>
    </div>
  </h:form>

  <h:outputStylesheet name="css/layout-ivy-#{ivyFreyaTheme.mode}.css" library="freya-layout" />
  <h:outputStylesheet name="primeflex-3.min.css" library="primeflex" />
</h:body>

</html>
