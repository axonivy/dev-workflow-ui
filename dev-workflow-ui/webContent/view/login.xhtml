<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
  <f:attribute name="primefaces.THEME" value="freya-ivy-#{ivyFreyaTheme.mode}" />
  <f:facet name="first">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
  </f:facet>
  <title>Login - #{ivyAdvisor.applicationName} #{ivyAdvisor.versionShort}</title>
  <link rel="shortcut icon" href="#{resource['ivy-branding:favicon']}" />
</h:head>

<f:metadata>
  <f:viewParam name="originalUrl" value="#{loginIvyDevWfBean.originalUrl}"/>
</f:metadata>
<h:body styleClass="login-body">
  <h:form id="loginForm">
    <div class="login-wrapper">
      <div class="login-panel">
        <div class="logo">
          <p:graphicImage name="logo_small" library="ivy-branding" alt="Logo" />
        </div>

        <p:focus for="userName" />
        <p:inputText id="userName" autocomplete="off" value="#{loginIvyDevWfBean.username}" required="true" placeholder="Username / Email" />
        <p:password id="password" autocomplete="off" value="#{loginIvyDevWfBean.password}" required="true" placeholder="Password" />

        <p:commandButton update="@form" id="login" actionListener="#{loginIvyDevWfBean.customLogin}" value="Sign In" icon="si si-login-3" />
        <p:messages globalOnly="true" id="loginMessage" />

        <section class="oauth-providers">
          <ul style="list-style-type: none; padding-left: 0px">
            <c:forEach var="authProvider" items="#{loginIvyDevWfBean.getOAuthProviders()}">
              <li>
                <h:outputLink value="${authProvider.link}">
                  <h:outputText value="${authProvider.image}" escape="false" />
                    <span style="position: relative; bottom: 5px;">
                      Log in with <h:outputText value="${authProvider.displayName}" />
                    </span>
                </h:outputLink>
              </li>
            </c:forEach>
          </ul>
        </section>

      </div>
      <div class="login-footer">
        <h4>Developer Workflow UI</h4>
        <h6>Copyright â’¸ Axon Ivy</h6>
      </div>
    </div>
  </h:form>

  <h:outputStylesheet name="css/layout-ivy-#{ivyFreyaTheme.mode}.css" library="freya-layout" />
  <h:outputStylesheet name="primeflex-2.min.css" library="primeflex" />
</h:body>

</html>
