<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:jc="http://java.sun.com/jsf/composite/components">

  <div class="task-detail-action-container action-container">

    <p:link href="#{tasksDetailsIvyDevWfBean.executeTaskLink}" styleClass="task-action-item straight-text-icon"
      id="taskStartBtn" disabled="#{!tasksDetailsIvyDevWfBean.selectedTask.canBeStarted()}">
      <h:outputText value="Start" />
      <i class="si si-arrow-right-1 detail-action-icon-bold" />
    </p:link>

    <p:commandLink value="Actions" class="task-actions-link straight-text-icon" id="taskActionsBtn"
      disabled="#{tasksDetailsIvyDevWfBean.selectedTask.done}">
      <i class="si si-arrow-down-1 detail-action-icon"></i>
    </p:commandLink>
    <p:menu id="actionsMenu" overlay="true" trigger="taskActionsBtn" my="right top" at="right bottom">
      <p:menuitem actionListener="#{tasksDetailsIvyDevWfBean.reset()}" update="form"
        disabled="#{!tasksDetailsIvyDevWfBean.selectedTask.canReset()}" id="taskResetBtn">
        <i class="si si-road-sign-u-turn-left table-icon" />Reset
      </p:menuitem>
      <p:menuitem actionListener="#{tasksDetailsIvyDevWfBean.park()}" update="form"
        disabled="#{!tasksDetailsIvyDevWfBean.selectedTask.canPark()}" id="taskParkBtn">
        <i class="si si-road-sign-u-turn-right table-icon" />Park
      </p:menuitem>
      <p:menuitem actionListener="#{tasksDetailsIvyDevWfBean.destroy()}" update="form"
        disabled="#{!tasksDetailsIvyDevWfBean.selectedTask.state.active}" id="taskDestoryBtn">
        <i class="si si-close table-icon" />Destroy
      </p:menuitem>
      <p:menuitem actionListener="#{tasksDetailsIvyDevWfBean.expireTask}" update="form"
        disabled="#{!tasksDetailsIvyDevWfBean.selectedTask.state.active}"
        rendered="#{engineModeIvyDevWfBean.demoOrDesigner}" id="taskExpireBtn">
        <i class="si si-alarm-bell-timer table-icon" />Expire now
      </p:menuitem>
    </p:menu>

    <p:commandLink value="Sidesteps" class="sidesteps-button straight-text-icon" id="sidestepsBtn"
      rendered="#{tasksDetailsIvyDevWfBean.selectedTask.renderSidestepBtn()}">
      <i class="si si-arrow-down-1 detail-action-icon"></i>
    </p:commandLink>
    <p:menu id="sidestepMenu" overlay="true" trigger="sidestepsBtn" my="right top" at="right bottom"
      model="#{tasksDetailsIvyDevWfBean.sidestepsMenuModel}" styleClass="menu-no-icons" />
  </div>

</ui:composition>
