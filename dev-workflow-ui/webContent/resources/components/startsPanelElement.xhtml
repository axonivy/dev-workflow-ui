<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">
<cc:interface>
  <cc:attribute name="pmv" />
  <cc:attribute name="start" />
</cc:interface>

<cc:implementation>
  <p:panel id="startElement" styleClass="start-element" rendered="#{cc.attrs.pmv.active}">
    <p:commandLink actionListener="#{cc.attrs.start.execute}" styleClass="flex-space start-link width-100">
      <span class="straight-text-icon"> <i id="startableIcon" class="#{cc.attrs.start.icon} margin-right-5"></i>
        <span>#{cc.attrs.start.displayName}</span>
      </span>
      <span>#{cc.attrs.start.description}</span>
    </p:commandLink>
    <p:link id="copyStartLinkBtn" href="#" onclick="copyToClipboard('#{cc.attrs.start.link}')" styleClass="margin-right-10">
      <i class="si si-copy-paste" />
    </p:link>
    <p:tooltip for="copyStartLinkBtn" value="Copy to clipboard" position="left" />
    <p:link id="openStartFullscreenBtn" href="#{cc.attrs.start.link}" styleClass="margin-right-10"
      rendered="#{cc.attrs.start.embedInFrame}">
      <i class="si si-expand-6" />
    </p:link>
    <p:tooltip for="openStartFullscreenBtn"
      value="Open start on a fullscreen page. Add 'embedInFrame' request custom field to set this as default."
      position="left" />
    <p:commandLink id="openProcessViewer" oncomplete="PF('process-viewer-dlg').show()" styleClass="margin-right-10"
      rendered="#{loginIvyDevWfBean.loggedIn}" update="startsForm:processViewerDialog"
      actionListener="#{viewerIvyDevWfBean.setStartable(cc.attrs.start)}">
      <i class="si si-hierarchy-6 si-rotate-270" />
    </p:commandLink>
    <p:tooltip for="openProcessViewer" position="left"
      value="#{cc.attrs.start.isProcessStart() ? 'Open Process Viewer' : 'Open Case Map Viewer'}" />
  </p:panel>
</cc:implementation>
</html>
